# Job that demonstrates failure handling
id: failing_job
name: Failing Job Demo

tasks:
  - id: setup
    type: command
    command: echo
    args: ["Setting up..."]

  - id: will_fail
    type: command
    command: sh
    args: ["-c", "echo 'Attempting operation...' && echo 'Error: something went wrong!' >&2 && exit 1"]
    depends_on: [setup]
    condition: all_success

  - id: cleanup
    type: command
    command: echo
    args: ["Cleaning up after failure..."]
    depends_on: [will_fail]
    condition: all_done
